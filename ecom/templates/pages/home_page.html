{% extends 'pages/base.html' %}
{% load static %}
{% block active %} active {% endblock %}

{% block content %}
<main class="main">
    <div id="carouselExampleIndicators" class="carousel slide mb-3" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="intro-slide" style="background-image: url('/static/assets/images/demos/demo-4/slider/slide-1.png');">
                    <div class="container intro-content">
                        <div class="row justify-content-end">
                            <div class="col-auto col-sm-7 col-md-6 col-lg-5">
                                <h3 class="intro-subtitle text-primary">New Arrival</h3>
                                <h1 class="intro-title">Apple iPad Pro<br>12.9 Inch, 256GB</h1>
                                <div class="intro-price">
                                    <sup>Today:</sup>
                                    <span class="text-primary">₹88990<sup>.99</sup></span>
                                </div>
                                <a href="{% url 'product_list' %}" class="btn btn-primary btn-round">
                                    <span>Shop More</span>
                                    <i class="icon-long-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div class="intro-slide" style="background-image: url('/static/assets/images/demos/demo-4/slider/slide-2.png');">
                    <div class="container intro-content">
                        <div class="row justify-content-end">
                            <div class="col-auto col-sm-7 col-md-6 col-lg-5">
                                <h3 class="intro-subtitle text-third">Deals and Promotions</h3>
                                <h1 class="intro-title">Beats by</h1>
                                <h1 class="intro-title">Dre Studio 3</h1>
                                <div class="intro-price">
                                    <sup class="intro-old-price">₹35999</sup>
                                    <span class="text-third">₹31599<sup>.99</sup></span>
                                </div>
                                <a href="{% url 'product_list' %}" class="btn btn-primary btn-round">
                                    <span>Shop More</span>
                                    <i class="icon-long-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Repeat the same structure for additional slides -->
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    

            <div class="container">
                <h2 class="title text-center mb-4">Explore Popular Categories</h2><!-- End .title text-center -->




                <div class="cat-blocks-container">
                    <div class="row">

                        {% for category in category_data %}
                        <div class="col-6 col-sm-4 col-lg-2">
                            <a href="{% url 'category_page' category.id %}" class="cat-block">
                                <figure>
                                    <span>
                                        <img src="{{category.image.url}}" alt="Category image">
                                    </span>
                                </figure>

                                <h3 class="cat-block-title">{{category.name}}</h3><!-- End .cat-block-title -->
                            </a>
                        </div>
                        {% endfor %}

                        <!-- End .col-sm-4 col-lg-2 -->


                    </div><!-- End .row -->
                </div><!-- End .cat-blocks-container -->
            </div><!-- End .container -->

            <div class="mb-4"></div><!-- End .mb-4 -->

<!--            <div class="container">-->
<!--                <div class="row justify-content-center">-->
<!--                    <div class="col-md-6 col-lg-4">-->
<!--                        <div class="banner banner-overlay banner-overlay-light">-->
<!--                            <a href="#">-->
<!--                                <img src="/static/assets/images/demos/demo-4/banners/banner-1.png" alt="Banner">-->
<!--                            </a>-->

<!--                            <div class="banner-content">-->
<!--                                <h4 class="banner-subtitle"><a href="#">Smart Offer</a></h4>&lt;!&ndash; End .banner-subtitle &ndash;&gt;-->
<!--                                <h3 class="banner-title"><a href="#">Save $150 <strong>on Samsung <br>Galaxy Note9</strong></a></h3>&lt;!&ndash; End .banner-title &ndash;&gt;-->
<!--                                <a href="#" class="banner-link">Shop Now<i class="icon-long-arrow-right"></i></a>-->
<!--                            </div>&lt;!&ndash; End .banner-content &ndash;&gt;-->
<!--                        </div>&lt;!&ndash; End .banner &ndash;&gt;-->
<!--                    </div>&lt;!&ndash; End .col-md-4 &ndash;&gt;-->

<!--                    <div class="col-md-6 col-lg-4">-->
<!--                        <div class="banner banner-overlay banner-overlay-light">-->
<!--                            <a href="#">-->
<!--                                <img src="/static/assets/images/demos/demo-4/banners/banner-2.jpg" alt="Banner">-->
<!--                            </a>-->

<!--                            <div class="banner-content">-->
<!--                                <h4 class="banner-subtitle"><a href="#">Time Deals</a></h4>&lt;!&ndash; End .banner-subtitle &ndash;&gt;-->
<!--                                <h3 class="banner-title"><a href="#"><strong>Bose SoundSport</strong> <br>Time Deal -30%</a></h3>&lt;!&ndash; End .banner-title &ndash;&gt;-->
<!--                                <a href="#" class="banner-link">Shop Now<i class="icon-long-arrow-right"></i></a>-->
<!--                            </div>&lt;!&ndash; End .banner-content &ndash;&gt;-->
<!--                        </div>&lt;!&ndash; End .banner &ndash;&gt;-->
<!--                    </div>&lt;!&ndash; End .col-md-4 &ndash;&gt;-->

<!--                    <div class="col-md-6 col-lg-4">-->
<!--                        <div class="banner banner-overlay banner-overlay-light">-->
<!--                            <a href="#">-->
<!--                                <img src="/static/assets/images/demos/demo-4/banners/banner-3.png" alt="Banner">-->
<!--                            </a>-->

<!--                            <div class="banner-content">-->
<!--                                <h4 class="banner-subtitle"><a href="#">Clearance</a></h4>&lt;!&ndash; End .banner-subtitle &ndash;&gt;-->
<!--                                <h3 class="banner-title"><a href="#"><strong>GoPro - Fusion 360</strong> <br>Save $70</a></h3>&lt;!&ndash; End .banner-title &ndash;&gt;-->
<!--                                <a href="#" class="banner-link">Shop Now<i class="icon-long-arrow-right"></i></a>-->
<!--                            </div>&lt;!&ndash; End .banner-content &ndash;&gt;-->
<!--                        </div>&lt;!&ndash; End .banner &ndash;&gt;-->
<!--                    </div>&lt;!&ndash; End .col-lg-4 &ndash;&gt;-->
<!--                </div>&lt;!&ndash; End .row &ndash;&gt;-->
<!--            </div>-->
            <!-- End .container -->

            <div class="mb-3"></div><!-- End .mb-5 -->

            <div class="container for-you">
                <div class="heading heading-flex mb-3">
                    <div class="heading-left">
                        <h2 class="title">Recommendation For You</h2><!-- End .title -->
                    </div><!-- End .heading-left -->

<!--                   <div class="heading-right">-->
<!--                        <a href="#" class="title-link">View All Recommendadion <i class="icon-long-arrow-right"></i></a>-->
<!--                   </div>&lt;!&ndash; End .heading-right &ndash;&gt;-->
                </div><!-- End .heading -->

                <div class="products">
                    <div class="row justify-content-center">

                        {% for variant in variant_data %}
                        <div class="col-6 col-md-4 col-lg-3">
                            <div class="product product-2 ">
                                <figure class="product-media">
                                    {% if variant.product.category.offers.first.is_valid and variant.product.category.offers.first.is_active %}
                                    <span class="product-label label-circle label-sale">Sale</span>
                                    {% endif %}
                                    <a href="{% url 'product_page' variant.id %}">
                                        <img src="{{variant.colour.colour_images.first.image.url}}" alt="Product image" class="product-image">
                                    </a>

                                    <div class="product-action-vertical">
                                        <a href="#" class="btn-product-icon btn-wishlist" id="wishlist-btn" data-product-id="{{ variant.id }}" title="Add to wishlist"></a>
                                    </div><!-- End .product-action -->

                                    <div class="product-action">
                                        <a href="#" id="add-to-cart-{{ variant.id }}" class="btn-product btn-cart add-btn update-cart" title="Add to cart" onclick="addToCart(event, {{ variant.id }})"><span>Add to Cart</span></a>
                                    </div><!-- End .product-action -->
                                </figure><!-- End .product-media -->

                                <div class="product-body">
                                    <div class="product-cat">
                                        <a href="">{{variant.product.category.name}}</a>
                                    </div><!-- End .product-cat -->
                                    <h3 class="product-title"><a href="{% url 'product_page' variant.id %}">{{variant.product.name}} - {{variant.name}}  ({{variant.colour.name}})</a></h3><!-- End .product-title -->
                                    <div class="product-price">
                                        {% if variant.product.category.offers.first.is_valid and variant.product.category.offers.first.is_active %}
                                            <span >Rs.{{variant.price}}</span>
                                            <span class="new-price" style="margin-left: 0.5rem;"><s>Rs.{{variant.original_price}}</s></span>
                                        {% else %}
                                            Rs. {{variant.original_price}}
                                        {% endif %}
                                    </div><!-- End .product-price -->
                                    <div class="ratings-container">
                                        <div class="ratings">
                                            <div class="ratings-val" style="width: {{variant.product_rating_percentage}}%;"></div><!-- End .ratings-val -->
                                        </div><!-- End .ratings -->
<!--                                        <span class="ratings-text">( 4 Reviews )</span>-->
                                    </div><!-- End .rating-container -->

                                    <div class="product-nav product-nav-dots">
                                        {% if variant.product.colors.count != 1 %}
                                        {% for colour in variant.product.colors.all %}
                                        <a href="{% url 'product_page' colour.variant_colours.first.id %}" class="active" style="background: {{colour.color_code}}"><span class="sr-only">Color name</span></a>
                                        {% endfor %}
                                        {% endif %}
                                    </div>

                                    <!-- End .product-nav -->
                                </div><!-- End .product-body -->
                            </div><!-- End .product -->
                        </div>
                        {% endfor %}
                        <!-- End .col-sm-6 col-md-4 col-lg-3 -->

                    </div><!-- End .row -->
                </div><!-- End .products -->
            </div><!-- End .container -->

            <div class="popup-container">
                <div class="popup" id="wishlistPopup">
                    Added to wishlist !
                </div>
            </div>
            <div class="popup-container">
                <div class="popup" id="cartPopup">
                    Added to Cart !
                </div>
            </div>


            <div class="mb-6"></div><!-- End .mb-6 -->

            <div class="container">
                <div class="cta cta-border mb-5" style="background-image: url(assets/images/demos/demo-4/bg-1.jpg);">
                    <img src="/static/assets/images/demos/demo-4/camera.png" alt="camera" class="cta-img">
                    <div class="row justify-content-center">
                        <div class="col-md-12">
                            <div class="cta-content">
                                <div class="cta-text text-right text-white">
                                    <p>Shop Today’s Deals <br><strong>Awesome Made Easy. HERO7 Black</strong></p>
                                </div><!-- End .cta-text -->
                                <a href="#" class="btn btn-primary btn-round"><span>Shop Now   -   Rs.29,499</span><i class="icon-long-arrow-right"></i></a>
                            </div><!-- End .cta-content -->
                        </div><!-- End .col-md-12 -->
                    </div><!-- End .row -->
                </div><!-- End .cta -->
            </div><!-- End .container -->

            <!-- End .container -->

            <!-- End .container -->

            <!-- End .bg-light pt-5 pb-6 -->

            <div class="mb-5"></div><!-- End .mb-5 -->

            <!-- End .container -->

            <div class="mb-4"></div><!-- End .mb-4 -->

            <div class="container">
                <hr class="mb-0">
            </div><!-- End .container -->

            <div class="icon-boxes-container bg-transparent">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-6 col-lg-3">
                            <div class="icon-box icon-box-side">
                                <span class="icon-box-icon text-dark">
                                    <i class="icon-rocket"></i>
                                </span>
                                <div class="icon-box-content">
                                    <h3 class="icon-box-title">Free Shipping</h3><!-- End .icon-box-title -->
                                    <p>Orders ₹500 or more</p>
                                </div><!-- End .icon-box-content -->
                            </div><!-- End .icon-box -->
                        </div><!-- End .col-sm-6 col-lg-3 -->

                        <div class="col-sm-6 col-lg-3">
                            <div class="icon-box icon-box-side">
                                <span class="icon-box-icon text-dark">
                                    <i class="icon-rotate-left"></i>
                                </span>

                                <div class="icon-box-content">
                                    <h3 class="icon-box-title">Free Returns</h3><!-- End .icon-box-title -->
                                    <p>Within 30 days</p>
                                </div><!-- End .icon-box-content -->
                            </div><!-- End .icon-box -->
                        </div><!-- End .col-sm-6 col-lg-3 -->

                        <div class="col-sm-6 col-lg-3">
                            <div class="icon-box icon-box-side">
                                <span class="icon-box-icon text-dark">
                                    <i class="icon-info-circle"></i>
                                </span>

                                <div class="icon-box-content">
                                    <h3 class="icon-box-title">Get 20% Off 1 Item</h3><!-- End .icon-box-title -->
                                    <p>when you sign up</p>
                                </div><!-- End .icon-box-content -->
                            </div><!-- End .icon-box -->
                        </div><!-- End .col-sm-6 col-lg-3 -->

                        <div class="col-sm-6 col-lg-3">
                            <div class="icon-box icon-box-side">
                                <span class="icon-box-icon text-dark">
                                    <i class="icon-life-ring"></i>
                                </span>

                                <div class="icon-box-content">
                                    <h3 class="icon-box-title">We Support</h3><!-- End .icon-box-title -->
                                    <p>24/7 amazing services</p>
                                </div><!-- End .icon-box-content -->
                            </div><!-- End .icon-box -->
                        </div><!-- End .col-sm-6 col-lg-3 -->
                    </div><!-- End .row -->
                </div><!-- End .container -->
            </div><!-- End .icon-boxes-container -->
        </main>

{% endblock %}